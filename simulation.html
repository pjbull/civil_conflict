<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="img/favicon.ico">

  <title>AM 207 Final Project</title>

  <!-- Bootstrap core CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/css/jumbotron-narrow.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
      <![endif]-->

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </head>

    <body>

      <div class="container">
        <div class="header">
          <ul class="nav nav-pills pull-right">
            <li><a href="index.html">Home</a></li>
            <li class="active"><a href="simulation.html">Simulation</a></li>
            <li><a href="optimization.html">Optimization</a></li>
            <li><a href="https://github.com/pjbull/civil_conflict/" target="_blank">
              <img src="img/GitHub-Mark-32px.png" height="18" style="vertical-align:text-top;"/> Code</a></li>
            </ul>
            <h3 class="text-muted">AM 207 Final Project</h3>
          </div>

          <div class="container">
            <h2>Modeling and Simulating Political Violence and Optimizing Aid Distribution in Uganda</h2>
            <h3 class="text-muted">Simulating events in space and time</h3>
          </div>

          <div class="row marketing">
            <div class="col-md-12">

              <h4>Events in space</h4>

              <p>The violence and civil conflict events described in the ACLED dataset are coded with both a latitude and a longitude. One assumption we make is that these events are distributed due to underlying causes such as population centers, road access, historical land ownership, and other features that make conflicts more or less likely. It is difficult to directly create a generative model for these probabilities, so we will make the further assumption that the distribution of the data already incorporates and is representative of these factors. In effect, we treat the entire country of Uganda as a probability distribution from which geospatial conflict events could be sampled. We took historical conflict location data from the entire ACLED data set and smoothed it using a Matérn covariance function. Figure <a href="#2">2</a> shows this smoothing applied to the same conflicts depicted in figure <a href="index.html#1">1</a>.</p>


              <div class="panel panel-info">
                <a name="2"></a>
                <div class="panel-heading">Figure 2</div>
                <div class="panel-body">
                  <img src="img/map-with-smoothed-data.png" width="100%" max-width="600" />
                </div>
                <div class="panel-footer">Conflicts with Matérn smoothing.</div>
              </div>


              <p>We used this smooth function as a kernel-density esitmate (KDE). This estimate (i.e., the empirical distribution of the conflict data), has a complex functional form which makes it challenging to sample from. However, for any given coordinate it is quite simple to get the probability of an event. Given this property of our KDE, we can apply Monte Carlo sampling techniques to generate samples from this probability distribution. Visualizing the distribution, we can see that it is multi-modal with regions of low density between the modes. Because of these properties, we opted to use slice sampling to generate draws from the distribution.</p>

              <p>Figure <a href="#3">3</a> shows the first 1,000 samples from this probability distribution. (Note: we throw away samples that occur over water or outside of country boundaries.) Figure <a href="#4">4</a> shows the distribution of the samples as a two-dimensional histogram.</p>


              <div class="panel panel-info">
                <a name="3"></a>
                <div class="panel-heading">Figure 3</div>
                <div class="panel-body">
                  <img src="img/1000-slice-samples.png" width="100%" max-width="600" />
                </div>
                <div class="panel-footer">Blue dots are samples from the empirical distribution.</div>
              </div>

               


              <div class="panel panel-info">
                <a name="4"></a>
                <div class="panel-heading">Figure 4</div>
                <div class="panel-body">
                  <img src="img/histogram.png" width="100%" max-width="600" />
                </div>
                <div class="panel-footer">Histogram of slice samples from the empirical distribution.</div>
              </div>

              <p>When slice sampling, there are a number of parameter choices that are imporant. We want to choose our rectangle widths, burn-in, and thinning parameters appropriately. In testing, a thinning value of 10 reduced autocorrelation to less than 0.1 at a time lag of 1. We can see this result in figure <a href="#5">5</a>. We used the Gelman-Rubin potential scale reduction factor to determine if we were observing favorable mixing. Generally, a value less than 1.1 indicates good mixing. In both of our dimensions, the Gelman-Rubin statistic was less than this threshold. We also calculated the Geweke statistic, which is used to indicate convergence. A value less than 2 indicates convergence and for our draws, this statistic was $\ll$ 1. We can also examine convergence by looking at the trace plots for the samples. As we see in figure <a href="#6">6</a> these appear stationary.</p>


              <div class="panel panel-info">
                <a name="5"></a>
                <div class="panel-heading">Figure 5</div>
                <div class="panel-body">
                  <img src="img/autocorr-latlong.png" width="100%" max-width="600" />
                </div>
                <div class="panel-footer">Autocorrelation for the samples from latitude and longitude</div>
              </div>


              <div class="panel panel-info">
                <a name="6"></a>
                <div class="panel-heading">Figure 6</div>
                <div class="panel-body">
                  <img src="img/trace-plots.png" width="100%" max-width="600" />
                </div>
                <div class="panel-footer">Trace plots for draws from the latitude and longitude</div>
              </div>

              <h4>Events in time</h4>

              <p>As a modeling assumption, we separate the dimensions of space and time as being independent. To model events in time across the country, we use an autoregressive Poisson GLM. While standard autoregressive models create a linear relation between a future value and a previous value,
              the Poisson GLM permits a linear relation between previous data and the mean of a Poisson distribution. This will allow us to retain the probabilistic interpretation of the events in time.</p>

              <p>In order to model events using a Poisson distribution, we must discretize our time dimension. We opted for month-long increments. The thinking behind this decision is that we want to use sample draws to run our aid optimizations. If a model like this were to be used in planning for future conflicts, having a month-long window for a plan seems like a good balance between precision and logistic concerns.</p>

              <p>The Autoregressive Poisson GLM model can be described as a log-linear relationship between the number of events of political violence and the mean of a Poisson distribution. We start with a timeseries,
              $\mathbf{X} = \{x_0, x_1,\ldots, x_N\}$, of $N$ counts of events at each discretized point in time. We also start with a lag $\Lambda$ that is the number of previous time steps to include in the model. We can now describe our features at time $t$ as the $\Lambda$ previous time steps:
              $\mathbf{X_{t, \Lambda}} = \{x_{t-\Lambda}, x_{t-\Lambda-1},\ldots, x_t\}$.</p>

              <p>The linear predictor in the autoregressive model at a time step is $\eta_t$, and it is related to the mean of the Poisson distribution,
              $\mu_t$, by its canonical link function, $\log$.</p>

              $$\begin{aligned}
              \eta_t &= \mathbf{X}_{t, \Lambda}'\beta. \\
              \mu_t &= \log(\eta_t) = \log(\mathbf{X}_{t, \Lambda}'\beta) \\\end{aligned}$$

              <p>Finally, the only parameter to the Poisson distribution is this mean, so the distribution of counts, $k$, at some time t+1 can be given by:</p>

              $$\begin{aligned}
              p(k | \mu_t) &= \frac{\mu_t^k}{k!}e^{-\mu_t} \\
              p(k | \mathbf{X}_{t, \Lambda}, \beta) &= \frac{\log(\mathbf{X}_{t, \Lambda}'\beta)^k}{k!}e^{-\log(\mathbf{X}_{t, \Lambda}'\beta)} \end{aligned}$$

              <p>We can fit this model by using Fisher scoring to calculate $\beta_\mathrm{MLE}$, the coefficients of the model. Figure <a href="#7">7</a> shows this model as compared to actual rates of conflict incidence.</p>


              <div class="panel panel-info">
                <a name="7"></a>
                <div class="panel-heading">Figure 7</div>
                <div class="panel-body">
                  <img src="img/poisson-regression.png" width="100%" max-width="600" />
                </div>
                <div class="panel-footer">The Poisson regression model.</div>
              </div>

              <h4>Putting together the spatial and temporal</h4>

              <p>We can now use our draws over space and time to generate a simulation of future conflicts in Uganda. These simulated scenarios will serve as the basis of our aid delivery optimization. The combination of modeling conflict events in space and time along with optimizing aid delivery could prove helpful to organizations such as the Red Cross in ordering supplies, allocating staff and volunteers, and developing infrastructure.

            </div>
          </div>

          <div class="footer">
            <p>P. Bull, I. Slavitt, 2014</p>
          </div>

        </div> <!-- /container -->


        <!-- Bootstrap core JavaScript ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://code.jquery.com/jquery.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
      </body>
      </html>
